<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org" />
  <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />

  <title>The Phantasmal MUDlib for DGD: Sending Output to the User
</title>
  <link href="../../css/default.css" type="text/css" rel="stylesheet" />
</head>

<body>
  <div class="header_pane">
    <p>Phantasmal MUD Lib for DGD</p>

  </div>

  <div class="banner_pane">
    <table class="banner">
  <tr>
    <td class="banner" align="center">
      <a href="http://validator.w3.org/check/referer"><img src=
      "http://www.w3.org/Icons/valid-xhtml10" alt=
      "Valid XHTML 1.0 Strict!" style=
      "border: 0; width: 88px; height: 31px;"/></a> <a href=
      "http://jigsaw.w3.org/css-validator/check/referer"><img src=
      "http://jigsaw.w3.org/css-validator/images/vcss" alt=
      "Valid CSS!" style=
      "border: 0; width: 88px; height: 31px;"></a> <a href=
      "http://sourceforge.net"/></a><img src=
      "http://sourceforge.net/sflogo.php?group_id=48659&amp;type=2"
      style="border: 0; width: 125px; height: 37px;" alt=
      "SourceForge.net Logo"/>
    </td>
  </tr>
</table>

  </div>

  <table>
    <tr>
      <td valign="top" class="index_pane">
        <ul>
<li><a href="../../index.html">Phantasmal Site</a></li>
<ul>
<li><a href="../../History.html">History</a></li>
<li><a href="../../Installing.html">Installing Baseline Phantasmal</a></li>
<li><a href="../../Comparison.html">Comparison to Other Libs</a></li>
<li><a href="../../Credits.html">Credits</a></li>
<li><a href="../../Current.html">Current Features</a></li>
<li><a href="../../WhatIsPhantasmal.html">About</a></li>
<li><a href="../../API/index.html">Phantasmal API</a></li>
<li><a href="../../Archive/index.html">Archive</a></li>
<li><a href="../index.html">DGD</a></li>
<ul>
<li><a href="../Manual/index.html">DGD Reference Manual</a></li>
<li><a href="../CSharp_vs_DGD.html">CSharp vs DGD</a></li>
<li><a href="../Contribute.html">Contributing to DGD</a></li>
<li><a href="../DGD_Terms.html">DGD Glossary</a></li>
<li><a href="../Java_vs_DGD.html">Java vs DGD</a></li>
<li><a href="../MUDs_using_DGD.html">DGD MUDs</a></li>
<li><a href="../Misc_DGD.html">Miscellaneous DGD</a></li>
<li><a href="../MudOS_vs_DGD.html">MudOS vs DGD</a></li>
<li><a href="../SlushBucket.html">Slush Bucket</a></li>
<li><a href="../Why_DGD.html">Why Use DGD?</a></li>
<li><a href="index.html">DGD Reference Manual (legacy)</a></li>
<ul>
<li><a href="ControlFlow.html">Control Flow</a></li>
<li><a href="ControlFlow_ForWhile.html">For and While Loops</a></li>
<li><a href="Introduction.html">Introduction</a></li>
<li><a href="Misc.html">A Miscellany This section consists of various</a></li>
<li><a href="Misc_DGDVersions.html">DGD Version Numbers</a></li>
<li><a href="Misc_EditorQuick.html">DGD Editor Quick Reference</a></li>
<li><a href="Misc_LPCHistory.html">A Brief History of LPC</a></li>
<li><a href="Setup.html">Setting Up DGD</a></li>
<li><a href="Setup_Installing.html">Installing DGD</a></li>
<li><a href="Setup_KernelOverview.html">An Overview of the Kernel Library</a></li>
<li><a href="Setup_RunKernel.html">Running the Kernel Library</a></li>
<li><a href="Tutorial.html">A Quick LPC Tutorial</a></li>
<li><a href="Tutorial_Arguments.html">Arguments and Call-By-Value</a></li>
<li><a href="Tutorial_Arrays.html">Arrays</a></li>
<li><a href="Tutorial_CodeInFiles.html">Making and Using LPC Files</a></li>
<li><a href="Tutorial_Functions.html">Functions</a></li>
<li><a href="Tutorial_GettingStarted.html">Getting Started</a></li>
<li><a href="Tutorial_Loops.html">Looping and Iteration</a></li>
<li><a href="Tutorial_Mappings.html">Mappings</a></li>
<li><a href="Tutorial_Objects.html">Objects</a></li>
<li><a href="Tutorial_StringHandling.html">Simple String Manipulation</a></li>
<li>Sending Output to the User</li>
<li><a href="Tutorial_VariableScope.html">External Variables and Scope</a></li>
<li><a href="Tutorial_VarsAndExprs.html">Variables and Arithmetic Expressions</a></li>
</ul>
<li><a href="../Config/index.html">Getting DGD</a></li>
<li><a href="../GameDesign/index.html">Game Design Issues</a></li>
<li><a href="../Kernel/index.html">The Kernel Library</a></li>
<li><a href="../LPC/index.html">Untitled document (LPC/index.base.html)</a></li>
<li><a href="../LibWriting/index.html">Writing a Library</a></li>
<li><a href="../Operation/index.html">What Does It Do?</a></li>
<li><a href="../Programming/index.html">DGD LPC Reference</a></li>
<li><a href="../Running/index.html">Running a MUD</a></li>
<li><a href="../Skotos/index.html">Skotos</a></li>
</ul>
<li><a href="../../Design/index.html">Design</a></li>
<li><a href="../../Development/index.html">Development</a></li>
<li><a href="../../Innsmouth/index.html">Innsmouth MUD</a></li>
<li><a href="../../Operation/index.html">Phantasmal Operation</a></li>
<li><a href="../../Setup/index.html">Setup</a></li>
<li><a href="../../Test/index.html">Test module index</a></li>
<li><a href="../../Tutorial/index.html">Phantasmal Tutorials</a></li>
</ul>
</ul>

      </td>
      <td valign="top" class="content_pane">
        <p><a href="index.html">Phantasmal Site</a> > <a href="index.html">DGD</a> > <a href="index.html">DGD Reference Manual (legacy)</a> > Sending Output to the User</p>



<h2> 3.5 Sending Output to the User </h2>


<p>In your code statements, you can also use a variable called
<var>user</var>. That variable represents the current user object,
which is the network connection that you have to the DGD server.
There are certain functions you can call on it to do various
things.</p>

<p>First, try typing <kbd>code user-&gt;query_conn()</kbd>. You
should see a result like <samp>$25 =
&lt;/kernel/obj/telnet#20&gt;</samp>. This means that history
variable $25 holds a <dfn>clone</dfn> of the
<var>/kernel/obj/telnet</var> object. That clone is the object that
DGD considers the <dfn>connection object</dfn>. If you type
<kbd>code query_ip_name(user-&gt;query_conn())</kbd>, you should
see either <samp>$26 = "localhost"</samp> or a similar result with
your computer's hostname. If you type <kbd>code
query_ip_number(user-&gt;query_conn())</kbd>, you should see a
similar result with "127.0.0.1" or your computer's IP address. If
you don't know what a hostname or IP address is, you should
probably learn that before running your own MUD... Both are used by
internet-connected machines to locate other internet-connected
machines.</p>

<p>Another interesting thing you can do with the user object is to
send output to it. For instance try typing
<kbd>user-&gt;message("Bob!\n");</kbd>. You should see the word
"Bob!" on a line by itself, and the history variable will have a
value of <var>nil</var>. If you remember, <var>nil</var> was the
value that a string has before it gets initialized. It's also the
value that a function returns if you don't specifically return
anything at all.</p>

<p>The backslash and n after "Bob!", above, are a <dfn>character
escape</dfn>. A character escape is composed of an <dfn>escape
character</dfn>, which is the backslash, followed by another
character, in this case an 'n' for the <dfn>newline
character</dfn>. There are certain other character escapes that
have meaning, such as \b for backspace, \r for a carriage return
and \t for a tab. Since the backslash and the double-quote have
special meaning in strings, there are special character escapes to
write them as well &mdash; \\ and \", respectively. Note that with
some MUD libraries you'll need to write an end-of-line as \n\r or
\r\n. So if your telnet is doing odd things at line endings, try
that. You may also want to see if there's an option in your telnet
client for treating line endings differently. Many telnet clients
(including PuTTY on Win32) support changing the behavior with an
option.</p>

<p>To see more of how the <dfn>newline character</dfn> works, try
adding more <dfn>\n</dfn> characters. Type <kbd>code
user-&gt;message("Line...\n\n\n\n")</kbd>. If you leave the
semicolon off like that, you won't get <var>nil</var> returned, but
rather the number 1. That's because the user-&gt;message function
returns an integer, which is either 1 or 0 for whether the entire
message could be sent.</p>

<p>When you printed a message with more than one \n, you saw more
than one line of space before the returned value. That's because
the user-&gt;message function writes the output directly to your
terminal, and it does it immediately. So you could use it to print
fancier output if you wanted to. Anything you print won't be saved
to a history variable, so make sure you're okay with it only being
on the screen. There's way for DGD to get it back and play with it
more.</p>


<table style="width: 100%; border: 1px">
  <tr>

    <td><a href="Tutorial_StringHandling.html"> &lt;&mdash; Prev<br /> Simple String Manipulation </a></td>

    <td align="center"><a href="Tutorial.html"> Up<br /> A Quick LPC Tutorial </a></td>

    <td align="right"><a href="Tutorial_CodeInFiles.html"> Next &mdash;&gt; <br />Making and Using LPC Files </a></td>
  </tr>
</table>

      </td>
    </tr>
  </table>

  <div class="footer_pane">
    <p>Copyright (C) 2010 Raymond Jennings</p>
<p>This website is released to the public under the terms of the
GNU Free Documentation License, Version 1.3 or later</p>

  </div>
</body>
</html>
